(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[337],{49069:function(n,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/functions",function(){return i(96742)}])},60469:function(n,e,i){"use strict";i.d(e,{D:function(){return h},r:function(){return u}});var t=i(85893),r=i(79351),l=i(47741),o=i(41664),d=i.n(o),a=i(95100),c=i(55992),s=i(96402);function u(n){let[e,i]=(0,a.v1)("modalId",a.U);return[null==n?void 0:n.find(n=>n.id===e),i]}function h(n){let{modalData:e,onClose:i}=n;return(0,t.jsxs)(r.u_,{isOpen:void 0!==e,onClose:i,size:"3xl",children:[(0,t.jsx)(r.ZA,{}),(0,t.jsxs)(r.hz,{children:[(0,t.jsxs)(r.xB,{children:["Catalog of ",e&&(0,c.ks)(e)," ",null==e?void 0:e.id," - ",null==e?void 0:e.name]}),(0,t.jsx)(r.ol,{}),(0,t.jsx)(r.fe,{children:e&&(0,t.jsx)(s.Rm,{src:e,collapsed:1,name:null,displayDataTypes:!1})}),(0,t.jsxs)(r.mz,{children:[e&&(0,c.vx)(e)&&(0,t.jsx)(l.zx,{colorScheme:"blue",mr:3,children:(0,t.jsx)(d(),{href:"/fragment_graph/?id=".concat(e.id),children:"View Fragments"})}),(0,t.jsx)(l.zx,{mr:3,onClick:i,children:"Close"})]})]})]})}},96402:function(n,e,i){"use strict";i.d(e,{Rm:function(){return w},KB:function(){return k},Kf:function(){return b},gU:function(){return T},sW:function(){return y},v6:function(){return g}});var t=i(85893),r=i(47741),l=i(65914),o=i(40639),d=i(36696),a=i(63679),c=i(9008),s=i.n(c),u=i(41664),h=i.n(u),m=i(67294),x=i(56103),v=i(3047),j=i(55992);function f(n){var e,i,t,r;return"columnDesc"in n?"".concat(null===(e=n.columnDesc)||void 0===e?void 0:e.name," (").concat(null===(t=n.columnDesc)||void 0===t?void 0:null===(i=t.columnType)||void 0===i?void 0:i.typeName,")"):"".concat(n.name," (").concat(null===(r=n.dataType)||void 0===r?void 0:r.typeName,")")}var p=i(60469);let w=(0,a.ZP)(()=>i.e(171).then(i.t.bind(i,55171,23))),g=[{name:"Primary Key",width:1,content:n=>n.pk.map(n=>n.columnIndex).map(e=>n.columns[e]).map(n=>f(n)).join(", ")},{name:"Vnode Count",width:1,content:n=>{var e;return null!==(e=n.maybeVnodeCount)&&void 0!==e?e:"?"}},{name:"Data Size",width:2,content:n=>(function(n){if(void 0===n)return"unknown";if(0===n)return"0 B";let e=Math.floor(Math.log(n)/Math.log(1024));return Math.round(n/Math.pow(1024,e)*100)/100+" "+["B","KB","MB","GB","TB"][e]})(n.totalSizeBytes)}],T={name:"Connector",width:3,content:n=>{var e;return null!==(e=n.withProperties.connector)&&void 0!==e?e:"unknown"}},b={name:"Connector",width:3,content:n=>{var e;return null!==(e=n.properties.connector)&&void 0!==e?e:"unknown"}},y=[{name:"Depends",width:1,content:n=>(0,t.jsx)(h(),{href:"/relation_graph/?id=".concat(n.id),children:(0,t.jsx)(r.zx,{size:"sm","aria-label":"view dependents",colorScheme:"blue",variant:"link",children:"D"})})},{name:"Fragments",width:1,content:n=>(0,t.jsx)(h(),{href:"/fragment_graph/?id=".concat(n.id),children:(0,t.jsx)(r.zx,{size:"sm","aria-label":"view fragments",colorScheme:"blue",variant:"link",children:"F"})})},{name:"Config Override",width:3,content:n=>{var e,i;let o=null===(i=n.streamingJob)||void 0===i?void 0:null===(e=i.configOverride)||void 0===e?void 0:e.trim();return o?(0,t.jsxs)(l.J2,{placement:"auto",trigger:"click",children:[(0,t.jsx)(l.xo,{children:(0,t.jsx)(r.zx,{size:"sm",variant:"link",colorScheme:"blue",children:"C"})}),(0,t.jsxs)(l.yk,{maxW:"lg",children:[(0,t.jsx)(l.QH,{}),(0,t.jsx)(l.us,{}),(0,t.jsx)(l.b,{fontFamily:"mono",whiteSpace:"pre-wrap",children:o})]})]}):"-"}}];function k(n,e,i,l){let{response:a}=(0,v.Z)(async()=>{let n=(null==l?void 0:l.withStreamingJobs)?(0,j.gG)():void 0,[i,t,r,o]=await Promise.all([e(),(0,j.Rf)(),(0,j.Cp)(),(0,j.jW)()]),d=n?await n:void 0,a=null==d?void 0:d.reduce((n,e)=>(n.set(e.id,e),n),new Map);return i.map(n=>{let e=t.find(e=>e.id===n.owner),i=null==e?void 0:e.name,l=o.find(e=>e.id===n.schemaId),d=null==l?void 0:l.name,c=r.find(e=>e.id===n.databaseId),s=null==c?void 0:c.name;return{streamingJob:null==a?void 0:a.get(n.id),...n,ownerName:i,schemaName:d,databaseName:s}})}),[c,u]=(0,p.r)(a),h=(0,t.jsx)(p.D,{modalData:c,onClose:()=>u(null)}),w=(0,t.jsxs)(o.xu,{p:3,children:[(0,t.jsx)(x.Z,{children:n}),a&&(0,t.jsxs)(o.xu,{mb:3,fontSize:"sm",color:"gray.600",children:["Total: ",a.length," ",1===a.length?"item":"items"]}),(0,t.jsx)(d.xJ,{children:(0,t.jsxs)(d.iA,{variant:"simple",size:"sm",maxWidth:"full",children:[(0,t.jsx)(d.hr,{children:(0,t.jsxs)(d.Tr,{children:[(0,t.jsx)(d.Th,{width:3,children:"Id"}),(0,t.jsx)(d.Th,{width:5,children:"Database"}),(0,t.jsx)(d.Th,{width:5,children:"Schema"}),(0,t.jsx)(d.Th,{width:5,children:"Name"}),(0,t.jsx)(d.Th,{width:3,children:"Owner"}),i.map(n=>(0,t.jsx)(d.Th,{width:n.width,children:n.name},n.name)),(0,t.jsx)(d.Th,{children:"Visible Columns"})]})}),(0,t.jsx)(d.p3,{children:null==a?void 0:a.map(n=>(0,t.jsxs)(d.Tr,{children:[(0,t.jsx)(d.Td,{children:(0,t.jsx)(r.zx,{size:"sm","aria-label":"view catalog",colorScheme:"blue",variant:"link",onClick:()=>u(n.id),children:n.id})}),(0,t.jsx)(d.Td,{children:n.databaseName}),(0,t.jsx)(d.Td,{children:n.schemaName}),(0,t.jsx)(d.Td,{children:n.name}),(0,t.jsx)(d.Td,{children:n.ownerName}),i.map(e=>(0,t.jsx)(d.Td,{children:e.content(n)},e.name)),n.columns&&n.columns.length>0&&(0,t.jsx)(d.Td,{overflowWrap:"normal",children:n.columns.filter(n=>!("isHidden"in n)||!n.isHidden).map(n=>f(n)).join(", ")})]},n.id))})]})})]});return(0,t.jsxs)(m.Fragment,{children:[(0,t.jsx)(s(),{children:(0,t.jsx)("title",{children:n})}),h,w]})}},96742:function(n,e,i){"use strict";i.r(e),i.d(e,{default:function(){return s}});var t=i(96402),r=i(55992);let l={name:"Arg Names",width:3,content:n=>n.argNames.join(", ")},o={name:"Arg Types",width:3,content:n=>n.argTypes.map(n=>n.typeName).join(", ")},d={name:"Return Type",width:3,content:n=>{var e,i;return null!==(i=null===(e=n.returnType)||void 0===e?void 0:e.typeName)&&void 0!==i?i:"unknown"}},a={name:"Language",width:3,content:n=>n.language},c={name:"Kind",width:3,content:n=>{var e;return null===(e=n.kind)||void 0===e?void 0:e.$case}};function s(){return(0,t.KB)("Functions",r.$C,[l,o,d,a,c])}}},function(n){n.O(0,[662,476,914,184,876,278,851,441,888,774,179],function(){return n(n.s=49069)}),_N_E=n.O()}]);